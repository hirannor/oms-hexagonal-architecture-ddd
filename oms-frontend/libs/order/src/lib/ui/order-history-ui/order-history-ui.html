<div class="orders-container">
  <p-table [value]="orders">
    <ng-template pTemplate="header">
      <tr>
        <th>Order ID</th>
        <th>Date</th>
        <th>Status</th>
        <th>Total</th>
        <th>Action</th>
      </tr>
    </ng-template>

    <ng-template let-order pTemplate="body">
      <tr>
        <td>{{ order.id }}</td>
        <td>{{ order.createdAt | date: 'short' }}</td>
        <td>
          <p-tag
            [icon]="mapStatusToIcon(order.status)"
            [severity]="mapStatusToSeverity(order.status)"
            [value]="mapStatusToLabel(order.status)"
          ></p-tag>
        </td>
        <td>{{ order.totalPrice.amount }} {{ order.totalPrice.currency }}</td>
        <td>
          <button
            [routerLink]="['/orders', order.id]"
            class="p-button-text p-button-sm"
            pButton
          >
            <span class="pi pi-eye" pButtonIcon></span>
            <span pButtonLabel>View</span>
          </button>
        </td>
      </tr>
    </ng-template>
  </p-table>

  @if (!orders || orders.length === 0) {
  <p>No orders found yet.</p>
  }
</div>
