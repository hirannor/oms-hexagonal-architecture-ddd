<form
  (ngSubmit)="onRegister()"
  [formGroup]="registerForm"
  class="auth-form p-fluid"
>
  <div class="form-field">
    <label for="email">Email</label>
    <input
      formControlName="email"
      id="email"
      pInputText
      placeholder="you@example.com"
      type="email"
    />
  </div>

  <div class="form-field">
    <label for="password">Password</label>
    <p-password
      [feedback]="true"
      [inputStyleClass]="'w-full'"
      class="w-full"
      placeholder="Enter password"
      formControlName="password"
      id="password"
    ></p-password>
  </div>

  <div class="form-field">
    <label for="confirmPassword">Confirm Password</label>
    <p-password
      [feedback]="false"
      [inputStyleClass]="'w-full'"
      class="w-full"
      placeholder="Confirm password"
      formControlName="confirmPassword"
      id="confirmPassword"
    ></p-password>
  </div>

  <div class="form-actions">
    <button
      [disabled]="registerForm.invalid || (loading$ | async)"
      pButton
      type="submit"
    >
      Register
    </button>
  </div>

  <div class="form-footer">
    <p>
      Already have an account?
      <a
        href="#"
        role="button"
        (click)="switchToLogin.emit(); $event.preventDefault()"
        (keydown.enter)="switchToLogin.emit()"
        (keydown.space)="switchToLogin.emit()"
        class="text-link"
      >
        Back to login
      </a>
    </p>
  </div>

  <div class="form-feedback">
    @if (error$ | async; as err) {
    <p class="error">{{ err }}</p>
    }
  </div>
</form>
