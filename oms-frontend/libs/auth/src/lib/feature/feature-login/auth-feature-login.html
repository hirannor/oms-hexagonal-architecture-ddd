<form (ngSubmit)="onLogin()" [formGroup]="loginForm" class="auth-form p-fluid">
  <div class="form-field">
    <label for="email">Email</label>
    <input
      id="email"
      formControlName="email"
      pInputText
      placeholder="you@example.com"
      type="email"
    />
  </div>

  <div class="form-field">
    <label for="password">Password</label>
    <p-password
      id="password"
      formControlName="password"
      [feedback]="false"
      [inputStyleClass]="'w-full'"
      placeholder="Enter password"
      class="w-full"
    ></p-password>
  </div>

  <div class="form-actions">
    <button
      [disabled]="loginForm.invalid || (loading$ | async)"
      pButton
      type="submit"
    >
      Login
    </button>
  </div>

  <div class="form-footer">
    <p>
      Don't have an account?
      <a
        href="#"
        role="button"
        (click)="switchToRegister.emit(); $event.preventDefault()"
        (keydown.enter)="switchToRegister.emit()"
        (keydown.space)="switchToRegister.emit()"
      >
        Create one
      </a>
    </p>
  </div>

  <div class="form-feedback">
    @if (error$ | async; as err) {
    <p class="error">{{ err }}</p>
    }
  </div>
</form>
