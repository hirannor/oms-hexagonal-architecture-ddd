<svg width="900" height="800" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
            <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="rgba(0,0,0,0.2)"/>
        </filter>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#34495e"/>
        </marker>
    </defs>

    <!-- Background -->
    <rect width="900" height="800" fill="#ffffff"/>

    <!-- Title -->
    <text x="450" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2c3e50">Multi-Domain Application</text>
    <text x="450" y="65" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="#7f8c8d">Hexagonal Architecture</text>

    <!-- Central Hexagon (Application Core) - Made larger -->
    <polygon points="450,400 580,310 580,190 450,90 320,190 320,310"
             fill="#3498db" stroke="#2980b9" stroke-width="3" filter="url(#shadow)"/>

    <!-- Application Core Content -->
    <text x="450" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Business Domains</text>

    <!-- Domain sections -->
    <text x="450" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ecf0f1">Customer Domain</text>
    <text x="450" y="208" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#bdc3c7">Customer Command Service</text>
    <text x="450" y="222" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#bdc3c7">Customer Query Service</text>

    <text x="450" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ecf0f1">Product Domain</text>
    <text x="450" y="268" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#bdc3c7">Product Command Service</text>
    <text x="450" y="282" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#bdc3c7">Product Query Service</text>

    <text x="450" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ecf0f1">Order Domain</text>
    <text x="450" y="328" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#bdc3c7">Order Command Service</text>
    <text x="450" y="342" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#bdc3c7">Order Query Service</text>

    <!-- Primary Adapters (Driving/Left Side) -->
    <!-- REST Adapter -->
    <rect x="50" y="180" width="140" height="70" rx="8" fill="#e74c3c" stroke="#c0392b" stroke-width="2" filter="url(#shadow)"/>
    <text x="120" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">REST API</text>
    <text x="120" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#f8c9c9">HTTP Controllers</text>

    <!-- JWT Authentication Adapter -->
    <rect x="50" y="300" width="140" height="70" rx="8" fill="#e74c3c" stroke="#c0392b" stroke-width="2" filter="url(#shadow)"/>
    <text x="120" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">Authentication</text>
    <text x="120" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#f8c9c9">JWT Auth</text>

    <!-- Secondary Adapters (Driven/Right Side) -->
    <!-- JPA Persistence Adapter -->
    <rect x="710" y="120" width="140" height="60" rx="8" fill="#27ae60" stroke="#229954" stroke-width="2" filter="url(#shadow)"/>
    <text x="780" y="142" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">JPA Store</text>
    <text x="780" y="157" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#a9dfbf">Java Persistence API</text>
    <text x="780" y="170" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#a9dfbf">Database Storage</text>

    <!-- In-Memory Persistence Adapter -->
    <rect x="710" y="190" width="140" height="60" rx="8" fill="#27ae60" stroke="#229954" stroke-width="2" filter="url(#shadow)"/>
    <text x="780" y="212" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">In-Memory Store</text>
    <text x="780" y="227" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#a9dfbf">Memory Storage</text>
    <text x="780" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#a9dfbf">Testing</text>

    <!-- Event Bus Adapter -->
    <rect x="710" y="260" width="140" height="60" rx="8" fill="#27ae60" stroke="#229954" stroke-width="2" filter="url(#shadow)"/>
    <text x="780" y="282" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Event Bus</text>
    <text x="780" y="297" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#a9dfbf">Messaging</text>
    <text x="780" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#a9dfbf">Event Publishing</text>

    <!-- SMS Notification Adapter -->
    <rect x="710" y="330" width="140" height="60" rx="8" fill="#27ae60" stroke="#229954" stroke-width="2" filter="url(#shadow)"/>
    <text x="780" y="352" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">SMS Notification</text>
    <text x="780" y="367" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#a9dfbf">SMS Gateway</text>
    <text x="780" y="380" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#a9dfbf">Text Messages</text>

    <!-- Email Notification Adapter -->
    <rect x="710" y="400" width="140" height="60" rx="8" fill="#27ae60" stroke="#229954" stroke-width="2" filter="url(#shadow)"/>
    <text x="780" y="422" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Email Notification</text>
    <text x="780" y="437" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#a9dfbf">SMTP Server</text>
    <text x="780" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#a9dfbf">Email Service</text>

    <!-- Primary Ports (Interfaces) -->
    <circle cx="250" cy="215" r="30" fill="#f39c12" stroke="#e67e22" stroke-width="2" filter="url(#shadow)"/>
    <text x="250" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">REST</text>
    <text x="250" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">Port</text>

    <circle cx="250" cy="335" r="30" fill="#f39c12" stroke="#e67e22" stroke-width="2" filter="url(#shadow)"/>
    <text x="250" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">Auth</text>
    <text x="250" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">Port</text>

    <!-- Secondary Ports (Interfaces) -->
    <circle cx="650" cy="150" r="25" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" filter="url(#shadow)"/>
    <text x="650" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="white">Repository</text>
    <text x="650" y="157" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="white">Port</text>

    <circle cx="650" cy="220" r="25" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" filter="url(#shadow)"/>
    <text x="650" y="215" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="white">Repository</text>
    <text x="650" y="227" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="white">Port</text>

    <circle cx="650" cy="290" r="25" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" filter="url(#shadow)"/>
    <text x="650" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="white">Messaging</text>
    <text x="650" y="297" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="white">Port</text>

    <circle cx="650" cy="360" r="25" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" filter="url(#shadow)"/>
    <text x="650" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="white">Notification</text>
    <text x="650" y="367" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="white">Port</text>

    <circle cx="650" cy="430" r="25" fill="#9b59b6" stroke="#8e44ad" stroke-width="2" filter="url(#shadow)"/>
    <text x="650" y="425" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="white">Notification</text>
    <text x="650" y="437" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="white">Port</text>

    <!-- Connection Lines -->
    <!-- Primary side connections -->
    <line x1="190" y1="215" x2="220" y2="215" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="190" y1="315" x2="220" y2="350" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Port to Core connections -->
    <line x1="280" y1="215" x2="310" y2="230" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="280" y1="335" x2="310" y2="320" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Core to Port connections -->
    <line x1="590" y1="220" x2="625" y2="150" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="590" y1="240" x2="625" y2="220" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="590" y1="260" x2="625" y2="290" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="590" y1="280" x2="625" y2="360" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="590" y1="300" x2="625" y2="430" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Secondary side connections -->
    <line x1="675" y1="150" x2="710" y2="150" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="675" y1="220" x2="710" y2="220" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="675" y1="290" x2="710" y2="290" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="675" y1="360" x2="710" y2="360" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="675" y1="430" x2="710" y2="430" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Legend -->
    <rect x="50" y="520" width="800" height="230" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1" rx="8"/>
    <text x="70" y="550" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2c3e50">Architecture Components</text>

    <!-- Legend items -->
    <rect x="70" y="570" width="20" height="15" fill="#3498db"/>
    <text x="100" y="582" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">Application Core - Contains business domains and application services</text>

    <rect x="70" y="595" width="20" height="15" fill="#e74c3c"/>
    <text x="100" y="607" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">Primary Adapters - Drive the application (REST API, JWT Auth)</text>

    <rect x="70" y="620" width="20" height="15" fill="#27ae60"/>
    <text x="100" y="632" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">Secondary Adapters - Driven by application (Persistence, Messaging, Notifications)</text>

    <circle cx="80" cy="652" r="8" fill="#f39c12"/>
    <text x="100" y="657" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">Primary Ports - Interfaces for incoming requests (REST, Authentication)</text>

    <circle cx="80" cy="675" r="8" fill="#9b59b6"/>
    <text x="100" y="680" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">Secondary Ports - Repository, Messaging, Notification interfaces</text>

    <!-- Additional note -->
    <text x="70" y="710" font-family="Arial, sans-serif" font-size="12" font-style="italic" fill="#7f8c8d">Application Services: Customer Command &amp; Query, Product Command &amp; Query, Order Command &amp; Query</text>

</svg>